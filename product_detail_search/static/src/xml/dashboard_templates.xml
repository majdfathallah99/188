<?xml version="1.0" encoding="UTF-8" ?>
<templates id="template" xml:space="preserve">
  <!-- Simple “Find Product” screen -->
  <t t-name="CustomDashBoardFindProduct" owl="1">
    <div class="pds pds-wrap container" style="max-width:980px; margin:auto; padding:12px 8px 28px;">
      <!-- Scan input -->
      <div class="scan" style="display:flex; justify-content:center; margin:10px 0 18px;">
        <input class="scan-input form-control"
               t-ref="scanInput"
               t-att-value="state.barcode"
               placeholder="امسح أو اكتب الباركود | Scan or type barcode"
               t-on-keydown="onKeyDown"
               t-on-input="onInput"
               style="height:46px; font-size:16px; padding:10px 14px; border-radius:14px; border:2px solid #222; width:720px; max-width:100%;"/>
      </div>

      <!-- Icon + name -->
      <div class="text-center" style="margin:8px 0 8px;">
        <div class="avatar" style="width:56px;height:56px;border-radius:50%;background:#f2f2f7;display:inline-flex;align-items:center;justify-content:center;margin-bottom:8px;">
          <i class="fa fa-barcode" style="font-size:22px;color:#667085"></i>
        </div>
        <div class="name" style="font-weight:800;letter-spacing:.3px;font-size:48px;line-height:1.1;margin:6px 0 2px;">
          <t t-esc="state.details and state.details.name or ''"/>
        </div>
      </div>

      <!-- Price cards: ALWAYS side-by-side (no wrapping); scrolls horizontally if too narrow -->
      <t t-if="state.details">
        <div style="display:flex; flex-wrap:nowrap; gap:18px; justify-content:center;
                    max-width:980px; margin:14px auto 10px; overflow-x:auto; padding-bottom:4px;">
          <!-- Unit -->
          <div style="flex:1 1 0; min-width:360px; max-width:480px; display:flex;">
            <div class="card" style="width:100%; margin:0; border-radius:14px; box-shadow:0 8px 28px rgba(0,0,0,.08); overflow:hidden;">
              <!-- Header exactly like screenshot -->
              <div style="background:#1e5bd8; color:#fff; text-align:center;
                          padding:12px 18px; font-weight:800; font-size:20px; line-height:1.1;">
                قطعة
              </div>
              <div style="padding:24px 22px; text-align:center;">
                <div style="font-size:56px; font-weight:800; letter-spacing:.5px;">
                  <t t-esc="state.details.price"/>
                </div>
                <div style="color:#8a8a8a; font-size:14px; margin-top:6px;">
                  <t t-esc="state.details.currency_symbol or '$'"/> -
                  <t t-esc="state.details.uom or 'Units'"/>
                </div>
              </div>
            </div>
          </div>

          <!-- Pack (only if exists) -->
          <t t-if="state.details.package_qty">
            <div style="flex:1 1 0; min-width:360px; max-width:480px; display:flex;">
              <div class="card" style="width:100%; margin:0; border-radius:14px; box-shadow:0 8px 28px rgba(0,0,0,.08); overflow:hidden;">
                <!-- Header exactly like screenshot (orange) -->
                <div style="background:#de6c18; color:#fff; text-align:center;
                            padding:12px 18px; font-weight:800; font-size:20px; line-height:1.1;">
                  عبوة
                </div>
                <div style="padding:24px 22px; text-align:center;">
                  <div style="font-size:56px; font-weight:800; letter-spacing:.5px;">
                    <t t-esc="state.details.package_price"/>
                  </div>
                  <div style="color:#8a8a8a; font-size:14px; margin-top:6px;">
                    <t t-esc="state.details.uom or 'Units'"/> <t t-esc="state.details.package_qty"/> ×
                  </div>
                </div>
              </div>
            </div>
          </t>
        </div>

        <!-- UoM Prices (from pos_multi_uom_price) -->
        <t t-if="state.details.uom_prices and state.details.uom_prices.length">
          <div class="uom-prices"
               style="background:#fff;border-radius:16px;box-shadow:0 8px 28px rgba(0,0,0,.06);padding:14px 16px;margin:0 auto 18px;max-width:980px;">
            <div style="font-weight:800;margin-bottom:10px;font-size:16px;">UOM PRICE</div>
            <table style="width:100%;border-collapse:collapse;">
              <thead>
                <tr>
                  <th style="text-align:left;padding:6px 4px;border-bottom:1px solid #eee;">Unit of Measure</th>
                  <th style="text-align:right;padding:6px 4px;border-bottom:1px solid #eee;">Price</th>
                </tr>
              </thead>
              <tbody>
                <tr t-foreach="state.details.uom_prices" t-as="up" t-key="up.uom_id">
                  <td style="padding:8px 4px;border-bottom:1px dashed #f0f0f0;">
                    <t t-esc="up.uom_name"/>
                  </td>
                  <td style="padding:8px 4px;text-align:right;border-bottom:1px dashed #f0f0f0;">
                    <t t-esc="state.details.currency_symbol or '$'"/> <t t-esc="up.price"/>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </t>
      </t>
    </div>
  </t>
</templates>
